{"version":3,"file":"bundle.js","mappings":"AAyKmBA,SAASC,eAAe,YACtBD,SAASC,eAAe,cAC1BD,SAASC,eAAe,YAiB5BD,SAASE,cAAc","sources":["webpack://card-flip-game/./src/index.js"],"sourcesContent":["const deckCards = [\r\n    \"6буби.png\",\r\n    \"6буби.png\",\r\n    \"6вини.png\",\r\n    \"6вини.png\",\r\n    \"6черви.png\",\r\n    \"6черви.png\",\r\n    \"6крести.png\",\r\n    \"6крести.png\",\r\n    \"5.png\",\r\n    \"5.png\",\r\n    \"6.png\",\r\n    \"6.png\",\r\n    \"8.png\",\r\n    \"8.png\",\r\n    \"9.png\",\r\n    \"9.png\",\r\n    \"10.png\",\r\n    \"10.png\",\r\n    \"11.png\",\r\n    \"11.png\",\r\n    \"12.png\",\r\n    \"12.png\",\r\n    \"13.png\",\r\n    \"13.png\",\r\n    \"14.png\",\r\n    \"14.png\",\r\n    \"15.png\",\r\n    \"15.png\",\r\n    \"16.png\",\r\n    \"16.png\",\r\n    \"17.png\",\r\n    \"17.png\",\r\n    \"18.png\",\r\n    \"18.png\",\r\n    \"19.png\",\r\n    \"19.png\",\r\n  ];\r\n  \r\n  function chooseLevelBlock(container) {\r\n    chooseLevelBlockArray = [];\r\n    const chooseLevelDiv = document.createElement(\"div\");\r\n    chooseLevelDiv.classList.add(\"choose_level-div\");\r\n    chooseLevelBlockArray.push(chooseLevelDiv);\r\n    const chooseLevelTitle = document.createElement(\"p\");\r\n    chooseLevelTitle.classList.add(\"choose_level-title\");\r\n    chooseLevelDiv.appendChild(chooseLevelTitle);\r\n    chooseLevelTitle.textContent = \"Выбери сложность\";\r\n    const chooseLevelForm = document.createElement(\"div\");\r\n    chooseLevelForm.classList.add(\"choose_level_form\");\r\n    chooseLevelDiv.appendChild(chooseLevelForm);\r\n    const chooseLevelButtonEasy = document.createElement(\"button\");\r\n    chooseLevelButtonEasy.classList.add(\r\n      \"choose_level-button_easy\",\r\n      \"level-button\"\r\n    );\r\n    chooseLevelButtonEasy.id = \"easyGame\";\r\n    chooseLevelForm.appendChild(chooseLevelButtonEasy);\r\n    chooseLevelButtonEasy.textContent = \"1\";\r\n    const chooseLevelButtonMedium = document.createElement(\"button\");\r\n    chooseLevelButtonMedium.classList.add(\r\n      \"choose_level-button_medium\",\r\n      \"level-button\"\r\n    );\r\n    chooseLevelButtonMedium.id = \"mediumGame\";\r\n    chooseLevelForm.appendChild(chooseLevelButtonMedium);\r\n    chooseLevelButtonMedium.textContent = \"2\";\r\n    const chooseLevelButtonHard = document.createElement(\"button\");\r\n    chooseLevelButtonHard.classList.add(\r\n      \"choose_level-button_hard\",\r\n      \"level-button\"\r\n    );\r\n    chooseLevelButtonHard.id = \"hardGame\";\r\n    chooseLevelForm.appendChild(chooseLevelButtonHard);\r\n    chooseLevelButtonHard.textContent = \"3\";\r\n    const chooseLevelButton = document.createElement(\"button\");\r\n    chooseLevelButton.classList.add(\"choose_level-button\");\r\n    chooseLevelDiv.appendChild(chooseLevelButton);\r\n    chooseLevelButton.textContent = \"Старт\";\r\n  \r\n    chooseLevelBlockArray.forEach((element) => {\r\n      container.appendChild(element);\r\n    });\r\n  \r\n    chooseLevelButtonEasy.addEventListener(\"click\", (event) => {\r\n      // window.application.level = 'easy';\r\n      gameMode = \"easy\";\r\n      chooseLevelButtonEasy.classList.add(\"active\");\r\n    });\r\n    chooseLevelButtonMedium.addEventListener(\"click\", (event) => {\r\n      window.application.level = \"medium\";\r\n      gameMode = \"medium\";\r\n      chooseLevelButtonMedium.classList.add(\"active\");\r\n    });\r\n    chooseLevelButtonHard.addEventListener(\"click\", (event) => {\r\n      window.application.level = \"hard\";\r\n      gameMode = \"hard\";\r\n      chooseLevelButtonHard.classList.add(\"active\");\r\n    });\r\n  \r\n    chooseLevelButton.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n      window.application.screens[\"game\"] = gameScreen;\r\n      window.application.renderScreen(\"game\");\r\n      startGame();\r\n    });\r\n  }\r\n  \r\n  function gameBlock(container) {\r\n    const gameMenu = document.createElement(\"div\");\r\n    gameMenu.classList.add(\"game_menu\");\r\n    const gameTimerMenu = document.createElement(\"div\");\r\n    gameTimerMenu.classList.add(\"game_timer_menu\");\r\n    const gameTimerMin = document.createElement(\"p\");\r\n    gameTimerMin.classList.add(\"game_time\");\r\n    gameTimerMin.textContent = \"min\";\r\n    gameTimerMenu.appendChild(gameTimerMin);\r\n    const gameTimerSek = document.createElement(\"p\");\r\n    gameTimerSek.classList.add(\"game_time\");\r\n    gameTimerSek.textContent = \"sek\";\r\n    gameTimerMenu.appendChild(gameTimerSek);\r\n    const Timer = document.createElement(\"span\");\r\n    Timer.classList.add(\"timer\");\r\n    Timer.textContent = \"00:00\";\r\n    gameMenu.appendChild(Timer);\r\n    const gameMenuButton = document.createElement(\"button\");\r\n    gameMenuButton.classList.add(\"game_button\");\r\n    gameMenuButton.textContent = \"Начать заново\";\r\n    gameMenu.appendChild(gameMenuButton);\r\n    const deck = document.createElement(\"ul\");\r\n    deck.classList.add(\"deck\");\r\n    const modal = document.createElement(\"div\");\r\n    modal.classList.add(\"modal\");\r\n    const modalcontent = document.createElement(\"div\");\r\n    modalcontent.classList.add(\"modal-content\");\r\n    modal.appendChild(modalcontent);\r\n    const modalimg = document.createElement(\"img\");\r\n    modalimg.classList.add(\"modal-img\");\r\n    modalcontent.appendChild(modalimg);\r\n    const header = document.createElement(\"h2\");\r\n    modalcontent.appendChild(header);\r\n    const title = document.createElement(\"h3\");\r\n    title.textContent = \"Затраченное время:\";\r\n    modalcontent.appendChild(title);\r\n    const time = document.createElement(\"h1\");\r\n    time.classList.add(\"stats\");\r\n    modalcontent.appendChild(time);\r\n    const resetButton = document.createElement(\"button\");\r\n    resetButton.classList.add(\"game_button\");\r\n    resetButton.textContent = \"Начать заново\";\r\n    modalcontent.appendChild(resetButton);\r\n    resetButton.addEventListener(\"click\", (event) => {\r\n      location.reload();\r\n    });\r\n  \r\n    container.appendChild(modal);\r\n    container.appendChild(gameTimerMenu);\r\n    container.appendChild(gameMenu);\r\n    container.appendChild(deck);\r\n    gameMenuButton.addEventListener(\"click\", (event) => {\r\n      location.reload();\r\n    });\r\n  }\r\n  \r\n  let cards = [];\r\n  let opened = [];\r\n  let matched = [];\r\n  let gameMode = \"\";\r\n  \r\n  const easyGame = document.getElementById(\"easyGame\");\r\n  const mediumGame = document.getElementById(\"mediumGame\");\r\n  const hardGame = document.getElementById(\"hardGame\");\r\n  \r\n  function shuffle(array) {\r\n    let currentIndex = array.length,\r\n      temporaryValue,\r\n      randomIndex;\r\n  \r\n    while (currentIndex !== 0) {\r\n      randomIndex = Math.floor(Math.random() * currentIndex);\r\n      currentIndex -= 1;\r\n      temporaryValue = array[currentIndex];\r\n      array[currentIndex] = array[randomIndex];\r\n      array[randomIndex] = temporaryValue;\r\n    }\r\n    return array;\r\n  }\r\n  \r\n  const deck = document.querySelector(\".deck\");\r\n  \r\n  function startGame() {\r\n    const deck = document.querySelector(\".deck\");\r\n    console.log(gameMode, mediumGame);\r\n    if (gameMode === \"easy\") {\r\n      cards = deckCards.slice(0, 6);\r\n      deck.classList.add(\"easy\");\r\n    } else if (gameMode === \"medium\") {\r\n      deck.classList.add(\"medium\");\r\n      cards = deckCards.slice(0, 12);\r\n    } else {\r\n      deck.classList.add(\"hard\");\r\n      cards = deckCards.slice(0, 18);\r\n    }\r\n  \r\n    const shuffledDeck = shuffle(cards);\r\n    for (let i = 0; i < shuffledDeck.length; i++) {\r\n      const divTag = document.createElement(\"DIV\");\r\n      const overflow = document.createElement(\"DIV\");\r\n      overflow.classList.add(\"overflow\");\r\n      deck.appendChild(overflow);\r\n      divTag.classList.add(\"memory-card\");\r\n      divTag.classList.add(\"flip\");\r\n      divTag.setAttribute(\"data-framework\", \"src/img/flip/\" + shuffledDeck[i]);\r\n      setTimeout(function () {\r\n        divTag.classList.remove(\"flip\");\r\n        overflow.remove();\r\n        if (timeStart === false) {\r\n          timeStart = true;\r\n          timer();\r\n        }\r\n      }, 5000);\r\n      const addImage1 = document.createElement(\"IMG\");\r\n      addImage1.classList.add(\"front-face\");\r\n      const addImage2 = document.createElement(\"IMG\");\r\n      addImage2.classList.add(\"back-face\");\r\n      divTag.appendChild(addImage1);\r\n      divTag.appendChild(addImage2);\r\n      addImage2.setAttribute(\"src\", \"src/img/Upside.png\");\r\n      addImage1.setAttribute(\"src\", \"src/img/flip/\" + shuffledDeck[i]);\r\n      deck.appendChild(divTag);\r\n    }\r\n  \r\n    const timeCounter = document.querySelector(\".timer\");\r\n    let time;\r\n    let minutes = 0;\r\n    let seconds = 0;\r\n    let timeStart = false;\r\n  \r\n    function timer() {\r\n      time = setInterval(function () {\r\n        seconds++;\r\n        if (seconds === 60) {\r\n          minutes++;\r\n          seconds = 0;\r\n        }\r\n        timeCounter.innerHTML =\r\n          minutes.toLocaleString(\"en-US\", {\r\n            minimumIntegerDigits: 2,\r\n            useGrouping: false,\r\n          }) +\r\n          \":\" +\r\n          seconds.toLocaleString(\"en-US\", {\r\n            minimumIntegerDigits: 2,\r\n            useGrouping: false,\r\n          });\r\n      }, 1000);\r\n    }\r\n  \r\n    let moves = 0;\r\n    const card = document.querySelectorAll(\".memory-card\");\r\n    let hasFlippedCard = false;\r\n    let lockBoard = false;\r\n    let firstCard, secondCard;\r\n  \r\n    function flipCard() {\r\n      if (lockBoard) return;\r\n      if (this === firstCard) return;\r\n  \r\n      this.classList.add(\"flip\");\r\n  \r\n      if (!hasFlippedCard) {\r\n        hasFlippedCard = true;\r\n        firstCard = this;\r\n        return;\r\n      }\r\n  \r\n      secondCard = this;\r\n  \r\n      checkForMatch();\r\n    }\r\n  \r\n    function checkForMatch() {\r\n      if (firstCard.dataset.framework === secondCard.dataset.framework) {\r\n        disableCards();\r\n        return;\r\n      }\r\n  \r\n      unflipCards();\r\n    }\r\n  \r\n    function disableCards() {\r\n      firstCard.removeEventListener(\"click\", flipCard);\r\n      secondCard.removeEventListener(\"click\", flipCard);\r\n      moves++;\r\n      if (\r\n        (gameMode === \"easy\" && moves === 3) ||\r\n        (gameMode === \"medium\" && moves === 6) ||\r\n        (gameMode === \"hard\" && moves === 9)\r\n      ) {\r\n        wingame();\r\n      }\r\n  \r\n      function wingame() {\r\n        const modal = document.querySelector(\".modal\");\r\n        const modalcontent = document.querySelector(\".modal-content\");\r\n        const modalimg = document.querySelector(\".modal-img\");\r\n        const header = document.querySelector(\"h2\");\r\n        const time = document.querySelector(\".stats\");\r\n  \r\n        lockBoard = true;\r\n        stopTime();\r\n        modal.style.display = \"block\";\r\n        modalimg.setAttribute(\"src\", \"src/img/win.png\");\r\n        header.textContent = \"Вы выиграли!\";\r\n        time.innerHTML = `${minutes}.${seconds}`;\r\n      }\r\n  \r\n      resetBoard();\r\n    }\r\n    function stopTime() {\r\n      clearInterval(time);\r\n    }\r\n  \r\n    function unflipCards() {\r\n      const modal = document.querySelector(\".modal\");\r\n      const modalimg = document.querySelector(\".modal-img\");\r\n      const header = document.querySelector(\"h2\");\r\n      const time = document.querySelector(\".stats\");\r\n  \r\n      lockBoard = true;\r\n      stopTime();\r\n      modal.style.display = \"block\";\r\n      modalimg.setAttribute(\"src\", \"src/img/lose.png\");\r\n      header.textContent = \"Вы проиграли!\";\r\n      time.innerHTML = `${minutes}.${seconds}`;\r\n      // КАК СДЕЛАТЬ чтобы время было 01.02 например? чтобы нолики эти были?\r\n    }\r\n  \r\n    function resetBoard() {\r\n      [hasFlippedCard, lockBoard] = [false, false];\r\n      [firstCard, secondCard] = [null, null];\r\n    }\r\n  \r\n    card.forEach((card) => card.addEventListener(\"click\", flipCard));\r\n  }\r\n  "],"names":["document","getElementById","querySelector"],"sourceRoot":""}